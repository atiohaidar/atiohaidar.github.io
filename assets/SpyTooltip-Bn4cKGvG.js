import{j as e}from"./particles-CSzCUO-v.js";import{b as n}from"./vendor-BFu755QE.js";const _=({visible:m,title:$="CLASSIFIED",items:k=[],targetRef:f,color:v="#3b82f6"})=>{const[D,w]=n.useState(m),[A,g]=n.useState(!1),[j,N]=n.useState(!1),[S,E]=n.useState(!1),[i,T]=n.useState(!1),[l,C]=n.useState({x:0,y:0}),d=n.useRef({mouseX:0,mouseY:0,baseX:0,baseY:0}),o=n.useRef({x:0,y:0}),b=n.useRef(),[y,F]=n.useState({x:0,y:0});n.useEffect(()=>{if(m){w(!0),g(!0),requestAnimationFrame(()=>N(!0));const t=setTimeout(()=>E(!0),400),s=setTimeout(()=>g(!1),900);return()=>{clearTimeout(t),clearTimeout(s)}}else{E(!1);const t=setTimeout(()=>N(!1),200),s=setTimeout(()=>w(!1),500);return()=>{clearTimeout(t),clearTimeout(s)}}},[m]);const R=t=>{t.stopPropagation(),T(!0),d.current={mouseX:t.clientX,mouseY:t.clientY,baseX:l.x||o.current.x,baseY:l.y||o.current.y}};if(n.useEffect(()=>{const t=x=>{if(i){const h=x.clientX-d.current.mouseX,r=x.clientY-d.current.mouseY;C({x:d.current.baseX+h,y:d.current.baseY+r})}},s=()=>{T(!1)};return i&&(window.addEventListener("mousemove",t),window.addEventListener("mouseup",s)),()=>{window.removeEventListener("mousemove",t),window.removeEventListener("mouseup",s)}},[i]),n.useEffect(()=>{if(!m||!f.current)return;const t=(r,c)=>{if(i||!f.current)return null;const u=f.current.getBoundingClientRect(),p=u.left+u.width/2,P=u.top+u.height/2,q=r-p,z=c-P,M=.4;return{x:-q*M,y:-z*M}};let s={x:0,y:0};const x=r=>{s={x:r.clientX,y:r.clientY}};window.addEventListener("mousemove",x);const h=()=>{let r=l.x,c=l.y;if(!i){const p=t(s.x,s.y);p&&l.x===0&&l.y===0&&(r=p.x,c=p.y,Math.abs(r)<50&&(r=r>0?100:-100),Math.abs(c)<50&&(c=c>0?50:-50))}const u=i?.2:.05;o.current.x+=(r-o.current.x)*u,o.current.y+=(c-o.current.y)*u,F({x:o.current.x,y:o.current.y}),b.current=requestAnimationFrame(h)};return b.current=requestAnimationFrame(h),()=>{window.removeEventListener("mousemove",x),b.current&&cancelAnimationFrame(b.current)}},[m,i,l,f]),!D)return null;const a=v,X=`${v}40`,Y=-y.x,L=-y.y;return e.jsx("div",{className:"absolute z-50 top-1/2 left-1/2",style:{transform:`translate3d(calc(-50% + ${y.x}px), calc(-50% + ${y.y}px), 0)`,willChange:"transform",perspective:"1000px",pointerEvents:"none"},children:e.jsxs("div",{className:"animate-spy-float",children:[e.jsxs("svg",{className:"absolute overflow-visible",style:{left:"50%",top:"50%",overflow:"visible"},children:[e.jsx("path",{d:`M${Y} ${L} L0 0`,stroke:a,strokeWidth:"1.5",pathLength:1,strokeDasharray:"1",strokeDashoffset:j?0:1,fill:"none",className:"transition-[stroke-dashoffset] duration-700 ease-out",style:{opacity:.6}}),e.jsx("circle",{cx:Y,cy:L,r:"3",fill:a,className:"animate-pulse",children:e.jsx("animate",{attributeName:"opacity",values:"0;1",dur:"0.3s",fill:"freeze"})}),j&&e.jsx("circle",{cx:"0",cy:"0",r:"2",fill:a})]}),e.jsxs("div",{onMouseDown:R,className:`
                        relative bg-[#0f172a]/90 backdrop-blur-xl border border-white/10
                        p-4 min-w-[240px] overflow-hidden rounded-sm
                        text-sky-400 font-mono text-xs
                        shadow-2xl cursor-grab active:cursor-grabbing pointer-events-auto
                        transition-all duration-500 cubic-bezier(0.34, 1.56, 0.64, 1)
                        ${S?"opacity-100 scale-100 translate-y-0":"opacity-0 scale-50 translate-y-4"}
                    `,style:{borderColor:a,boxShadow:`0 0 30px ${X}, inset 0 0 20px -10px ${X}`},children:[e.jsx("div",{className:"absolute inset-0 pointer-events-none opacity-10 bg-[linear-gradient(transparent_50%,rgba(59,130,246,0.2)_50%)] bg-[length:100%_3px] animate-scanline"}),e.jsxs("div",{className:"flex items-center justify-between border-b border-dashed border-white/20 pb-2 mb-3 select-none",children:[e.jsxs("span",{className:`font-bold tracking-[0.2em] text-sm text-[${a}] ${A?"animate-glitch":""}`,children:["// ",$]}),e.jsxs("div",{className:"flex gap-1.5",children:[e.jsx("span",{className:"w-1.5 h-1.5 rounded-full bg-red-500 animate-pulse"}),e.jsx("span",{className:"w-1.5 h-1.5 rounded-full bg-amber-500 animate-pulse delay-100"}),e.jsx("span",{className:"w-1.5 h-1.5 rounded-full bg-emerald-500 animate-pulse delay-200"})]})]}),e.jsx("div",{className:"space-y-2 relative z-10 select-none",children:k.map((t,s)=>e.jsxs("div",{className:"flex justify-between items-center gap-6",style:{animationName:S?"type-in":"none",animationDuration:"0.4s",animationFillMode:"forwards",animationDelay:`${s*100}ms`,opacity:0},children:[e.jsx("span",{className:"opacity-60 text-[0.65rem] tracking-wider uppercase text-slate-400",children:t.label}),e.jsx("span",{className:"font-bold text-slate-100 text-xs tracking-wide",children:t.value})]},s))}),e.jsx("div",{className:"absolute top-0 left-0 w-2 h-2 border-t border-l pointer-events-none",style:{borderColor:a}}),e.jsx("div",{className:"absolute top-0 right-0 w-2 h-2 border-t border-r pointer-events-none",style:{borderColor:a}}),e.jsx("div",{className:"absolute bottom-0 left-0 w-2 h-2 border-b border-l pointer-events-none",style:{borderColor:a}}),e.jsx("div",{className:"absolute bottom-0 right-0 w-2 h-2 border-b border-r pointer-events-none",style:{borderColor:a}})]})]})})};export{_ as S};
