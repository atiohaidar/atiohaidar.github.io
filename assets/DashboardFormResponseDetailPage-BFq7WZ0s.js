import{j as e}from"./particles-CSzCUO-v.js";import{h as x,u as b,b as o}from"./vendor-BFu755QE.js";import{F as N}from"./services-BaVGtfnM.js";import{C as s}from"./index-BzGNHlk_.js";const T=()=>{const{formId:r,responseId:t}=x(),d=b(),[n,m]=o.useState(null),[p,i]=o.useState(!0),[l,u]=o.useState(null);o.useEffect(()=>{r&&t&&h()},[r,t]);const h=async()=>{if(!(!r||!t))try{i(!0);const a=await N(r,t);m(a)}catch(a){u("Gagal memuat detail respons"),console.error(a)}finally{i(!1)}};return p?e.jsx("div",{className:"flex justify-center items-center min-h-96",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-accent-blue mx-auto mb-4"}),e.jsx("p",{className:s.TEXT_SECONDARY,children:"Memuat detail respons..."})]})}):l||!n?e.jsxs("div",{children:[e.jsx("button",{onClick:()=>d(`/dashboard/forms/${r}/responses`),className:`${s.TEXT_ACCENT} hover:underline mb-4`,children:"← Kembali ke Daftar Respons"}),e.jsx("div",{className:"bg-red-500 bg-opacity-20 border border-red-500 text-red-500 px-4 py-3 rounded-lg",children:l||"Respons tidak ditemukan"})]}):e.jsxs("div",{children:[e.jsx("button",{onClick:()=>d(`/dashboard/forms/${r}/responses`),className:`${s.TEXT_ACCENT} hover:underline mb-4`,children:"← Kembali ke Daftar Respons"}),e.jsxs("div",{className:`${s.BG_SECONDARY} rounded-lg p-6 shadow-md mb-6`,children:[e.jsx("h1",{className:`text-2xl md:text-3xl font-bold ${s.TEXT_PRIMARY} mb-4`,children:"Detail Respons"}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("p",{className:s.TEXT_SECONDARY,children:[e.jsx("span",{className:"font-semibold",children:"Responden:"})," ",n.response.respondent_name||"Anonim"]}),e.jsxs("p",{className:s.TEXT_SECONDARY,children:[e.jsx("span",{className:"font-semibold",children:"Tanggal:"})," ",n.response.submitted_at?new Date(n.response.submitted_at).toLocaleString("id-ID",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"}):"Tanggal tidak tersedia"]})]})]}),e.jsxs("div",{className:`${s.BG_SECONDARY} rounded-lg p-6 shadow-md`,children:[e.jsx("h2",{className:`text-xl font-bold ${s.TEXT_PRIMARY} mb-6`,children:"Jawaban"}),e.jsx("div",{className:"space-y-6",children:n.answers.map((a,c)=>e.jsxs("div",{className:`pb-6 ${c!==n.answers.length-1?"border-b border-gray-700":""}`,children:[e.jsxs("p",{className:`font-semibold ${s.TEXT_PRIMARY} mb-3`,children:[c+1,". ",a.question_text]}),e.jsx("div",{className:`${s.BG_PRIMARY} rounded-lg p-4`,children:e.jsx("p",{className:`${s.TEXT_SECONDARY} whitespace-pre-wrap`,children:a.answer_text})})]},a.question_id))})]})]})};export{T as default};
