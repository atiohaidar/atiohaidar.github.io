import{j as e}from"./particles-CSzCUO-v.js";import{u as j,b as t,L as m}from"./vendor-BFu755QE.js";import{e as v}from"./services-BaVGtfnM.js";import{P as k}from"./ParallaxBackground-ByEXDhwp.js";import{T as N}from"./ThemeToggle-Cc29PLh4.js";import"./index-BzGNHlk_.js";import"./useParallax-C7KmvLtK.js";const E=()=>{const c=j(),[x,u]=t.useState(!1),[l,h]=t.useState(""),[r,g]=t.useState(""),[n,b]=t.useState(""),[o,i]=t.useState(!1),[d,s]=t.useState(""),[p,f]=t.useState(!1);t.useEffect(()=>{u(!0)},[]);const w=async a=>{if(a.preventDefault(),s(""),r!==n){s("Password baru tidak sama");return}if(r.length<6){s("Password minimal 6 karakter");return}i(!0);try{await v.forgotPassword({username:l,newPassword:r}),f(!0),setTimeout(()=>{c("/login")},2e3)}catch(y){s(y.message||"Gagal mereset password")}finally{i(!1)}};return e.jsxs("div",{className:"min-h-screen w-full relative flex flex-col bg-light-bg dark:bg-deep-navy overflow-hidden",children:[e.jsx(k,{intensity:.6,zIndex:10}),e.jsxs("header",{className:"relative px-6 py-5 flex justify-between items-center z-20",children:[e.jsxs(m,{to:"/login",className:"flex items-center gap-3 text-light-text dark:text-white hover:text-amber-500 dark:hover:text-amber-400 transition-all duration-300 group",children:[e.jsx("span",{className:"w-8 h-8 rounded-full bg-amber-500/20 flex items-center justify-center text-amber-500 group-hover:bg-amber-500 group-hover:text-white transition-all duration-300",children:"←"}),e.jsx("span",{className:"hidden sm:inline font-medium",children:"Kembali ke Login"})]}),e.jsx("div",{className:"flex items-center gap-4",children:e.jsx(N,{})})]}),e.jsx("main",{className:`flex-1 flex items-center justify-center p-4 sm:p-6 z-10 transition-all duration-700 ${x?"opacity-100 translate-y-0":"opacity-0 translate-y-4"}`,children:e.jsx("div",{className:"w-full max-w-md",children:e.jsxs("div",{className:"glass-panel relative overflow-hidden w-full p-6 sm:p-8 rounded-2xl shadow-xl",children:[e.jsx("div",{className:"absolute top-0 right-0 -mr-16 -mt-16 w-32 h-32 rounded-full bg-amber-500/20 blur-3xl pointer-events-none"}),e.jsx("div",{className:"absolute bottom-0 left-0 -ml-16 -mb-16 w-32 h-32 rounded-full bg-orange-500/20 blur-3xl pointer-events-none"}),e.jsxs("div",{className:"relative z-10",children:["Pemulihan Password",e.jsx("h2",{className:"text-2xl sm:text-3xl font-bold mb-2 text-gray-900 dark:text-white tracking-tight",children:"Reset Password"}),e.jsx("p",{className:"text-gray-500 dark:text-gray-400 mb-6 text-sm",children:"Masukkan username dan password baru"}),p?e.jsxs("div",{className:"p-4 bg-green-500/10 border border-green-500/20 rounded-xl flex items-center gap-3",children:[e.jsx("span",{className:"text-xl",children:"✅"}),e.jsx("p",{className:"text-green-600 dark:text-green-400 text-sm font-medium",children:"Password berhasil direset! Mengalihkan ke halaman login..."})]}):e.jsxs("form",{onSubmit:w,className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2 ml-1",children:"Username"}),e.jsx("input",{type:"text",value:l,onChange:a=>h(a.target.value),className:"w-full px-4 py-3 bg-white/50 dark:bg-black/20 border border-gray-200 dark:border-white/10 rounded-xl text-gray-900 dark:text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-amber-500/50 transition-all font-medium",placeholder:"username",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2 ml-1",children:"Password Baru"}),e.jsx("input",{type:"password",value:r,onChange:a=>g(a.target.value),className:"w-full px-4 py-3 bg-white/50 dark:bg-black/20 border border-gray-200 dark:border-white/10 rounded-xl text-gray-900 dark:text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-amber-500/50 transition-all font-medium",placeholder:"••••••••",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2 ml-1",children:"Konfirmasi Password Baru"}),e.jsx("input",{type:"password",value:n,onChange:a=>b(a.target.value),className:"w-full px-4 py-3 bg-white/50 dark:bg-black/20 border border-gray-200 dark:border-white/10 rounded-xl text-gray-900 dark:text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-amber-500/50 transition-all font-medium",placeholder:"••••••••",required:!0})]}),d&&e.jsxs("div",{className:"p-4 bg-red-500/10 border border-red-500/20 rounded-xl flex items-center gap-3",children:[e.jsx("span",{className:"text-xl",children:"⚠️"}),e.jsx("p",{className:"text-red-600 dark:text-red-400 text-sm font-medium",children:d})]}),e.jsx("button",{type:"submit",disabled:o,className:"w-full py-3.5 px-4 bg-gradient-to-r from-amber-600 to-orange-500 hover:from-amber-700 hover:to-orange-600 text-white font-bold rounded-xl shadow-lg shadow-amber-500/20 hover:shadow-amber-500/30 hover:scale-[1.02] active:scale-[0.98] transition-all disabled:opacity-50 disabled:hover:scale-100 disabled:shadow-none mt-2",children:o?e.jsxs("span",{className:"flex items-center justify-center gap-2",children:[e.jsxs("svg",{className:"animate-spin h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[e.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),e.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Mereset Password..."]}):"Reset Password"})]}),e.jsxs("p",{className:"text-sm text-center mt-6 text-gray-500 dark:text-gray-400",children:["Ingat password?"," ",e.jsx(m,{to:"/login",className:"text-amber-600 dark:text-amber-400 hover:underline font-medium",children:"Login di sini"})]})]})]})})}),e.jsx("footer",{className:"relative z-20 py-4 px-6 text-center",children:e.jsx("p",{className:"text-xs text-light-muted/60 dark:text-soft-gray/40",children:"Sebuah website random"})})]})};export{E as default};
