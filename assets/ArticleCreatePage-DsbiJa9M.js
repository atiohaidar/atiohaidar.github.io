import{j as u}from"./particles-CSzCUO-v.js";import{u as h,b as r}from"./vendor-BFu755QE.js";import{d as f,c as S,D as E}from"./index-BzGNHlk_.js";import{u as b}from"./useMutation-D7kuVVOc.js";import{y as x}from"./services-BaVGtfnM.js";import{D as A,A as y}from"./ArticleForm-q9cW1gq1.js";const j=()=>{const i=h(),m=f(),{theme:o}=S(),l=r.useMemo(()=>E[o],[o]),[t,c]=r.useState(A),[d,s]=r.useState(""),n=b({mutationFn:e=>x(e),onSuccess:()=>{m.invalidateQueries({queryKey:["articles"]}),i("/dashboard/articles")},onError:e=>s(e.message||"Gagal membuat artikel")}),p=e=>{c(a=>({...a,...e}))},g=e=>{if(e.preventDefault(),s(""),!t.slug.trim()){s("Slug harus diisi");return}if(!t.title.trim()||!t.content.trim()){s("Title dan content harus diisi");return}const a={slug:t.slug,title:t.title,content:t.content,published:t.published};n.mutate(a)};return u.jsx("div",{className:"max-w-5xl mx-auto space-y-6",children:u.jsx(y,{palette:l,formState:t,isEditing:!1,isSubmitting:n.isPending,error:d,onChange:p,onSubmit:g,onCancel:()=>i("/dashboard/articles")})})};export{j as default};
