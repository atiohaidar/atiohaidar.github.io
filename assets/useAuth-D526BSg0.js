import{b as e}from"./vendor-BFu755QE.js";import{f as o}from"./index-BzGNHlk_.js";function g(){const[r,n]=e.useState(null),[c,u]=e.useState(null),[i,a]=e.useState(!1),[f,l]=e.useState(!1);e.useEffect(()=>{const s=o.getToken(),t=o.getUser();s&&t&&(u(s),n(t),a(!0),l(t.role==="admin"))},[]);const d=e.useCallback((s,t)=>{o.setToken(s),o.setUser(t),u(s),n(t),a(!0),l(t.role==="admin")},[]),m=e.useCallback(()=>{o.clear(),u(null),n(null),a(!1),l(!1)},[]);return{user:r,token:c,isAuthenticated:i,isAdmin:f,login:d,logout:m}}export{g as u};
