import{j as e}from"./particles-CSzCUO-v.js";import{b as t,L as S,u as R}from"./vendor-BFu755QE.js";import{u as U}from"./useApi-aMnoPUty.js";import{B,g as I,a as z}from"./index-BzGNHlk_.js";import{P as q}from"./ParallaxBackground-ByEXDhwp.js";import{T as _}from"./ThemeToggle-Cc29PLh4.js";import"./useQuery-CnrhNLmL.js";import"./useMutation-D7kuVVOc.js";import"./services-BaVGtfnM.js";import"./apiClient-0gU9eKXL.js";import"./useParallax-C7KmvLtK.js";const $="http://localhost:8787",M=new URL($),K=M.host,G=M.protocol==="https:",H=({onLoginSuccess:s,navigateDelay:c=0})=>{var T;const[o,u]=t.useState(""),[i,m]=t.useState(""),[k,d]=t.useState(!1),[f,r]=t.useState("loading"),[b,x]=t.useState(null),[y,h]=t.useState(!1),[n,w]=t.useState(void 0),[D,v]=t.useState(void 0),A=U(),g=t.useRef(null),p=t.useRef(null),j=t.useRef(0),E=async a=>{a.preventDefault(),d(!0),r("loading"),x(null),h(!1),w(void 0),v(void 0),j.current=performance.now();try{const l=await A.mutateAsync({username:o,password:i}),N=Math.round(performance.now()-j.current);w(N),v(200),g.current=l,r("success"),p.current=setTimeout(()=>{h(!0)},c)}catch(l){const N=Math.round(performance.now()-j.current);w(N);let L=401;l&&typeof l=="object"&&"status"in l&&(L=l.status),v(L),r("error"),x(l instanceof Error?l.message:"Gagal masuk. Mohon periksa kredensial Anda.")}};t.useEffect(()=>{y&&g.current&&s(g.current)},[y,s]),t.useEffect(()=>()=>{p.current&&clearTimeout(p.current)},[]);const C=()=>{y&&g.current&&s(g.current)},P=()=>{d(!1),r("loading"),x(null),h(!1),p.current&&clearTimeout(p.current)};if(k){const a=(T=g.current)==null?void 0:T.user;return e.jsx(B,{status:f,onComplete:C,onDismiss:P,title:"Sedang Mengotentikasi",subtitle:"Memverifikasi kredensial Anda",successMessage:a?`Selamat datang kembali, ${a.name}!`:void 0,errorMessage:b,responseData:a?{username:a.username,name:a.name,role:a.role,balance:a.balance}:void 0,endpoint:"/api/auth/login",method:"POST",completeDelay:0,actualLatency:n,actualStatusCode:D,serverHost:K,isSecure:G})}return e.jsxs("div",{className:"relative overflow-hidden w-full max-w-md mx-auto p-8 rounded-3xl bg-white/70 dark:bg-[#1A2230]/70 backdrop-blur-xl border border-gray-200 dark:border-white/10 shadow-2xl animate-fade-in-up",children:[e.jsx("div",{className:"absolute top-0 right-0 -mr-16 -mt-16 w-32 h-32 rounded-full bg-blue-500/20 blur-3xl pointer-events-none"}),e.jsx("div",{className:"absolute bottom-0 left-0 -ml-16 -mb-16 w-32 h-32 rounded-full bg-cyan-500/20 blur-3xl pointer-events-none"}),e.jsxs("div",{className:"relative z-10",children:[e.jsx("h2",{className:"text-3xl font-bold mb-2 text-gray-900 dark:text-white tracking-tight",children:"Balik Lagii"}),e.jsx("p",{className:"text-gray-500 dark:text-gray-400 mb-8",children:"Masuk untuk mengelola dashboard"}),e.jsxs("form",{onSubmit:E,className:"space-y-5",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2 ml-1",children:"Username"}),e.jsx("input",{type:"text",value:o,onChange:a=>u(a.target.value),className:"w-full px-5 py-3 bg-white/50 dark:bg-black/20 border border-gray-200 dark:border-white/10 rounded-xl text-gray-900 dark:text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500/50 transition-all font-medium",placeholder:"admin atau user",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2 ml-1",children:"Password"}),e.jsx("input",{type:"password",value:i,onChange:a=>m(a.target.value),className:"w-full px-5 py-3 bg-white/50 dark:bg-black/20 border border-gray-200 dark:border-white/10 rounded-xl text-gray-900 dark:text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500/50 transition-all font-medium",placeholder:"••••••••",required:!0})]}),e.jsx("button",{type:"submit",className:"w-full py-3.5 px-4 bg-gradient-to-r from-blue-600 to-cyan-500 hover:from-blue-700 hover:to-cyan-600 text-white font-bold rounded-xl shadow-lg shadow-blue-500/20 hover:shadow-blue-500/30 hover:scale-[1.02] active:scale-[0.98] transition-all mt-2",children:"Masuk"})]}),e.jsxs("div",{className:"text-sm text-center mt-6 space-y-3",children:[e.jsxs("p",{className:"text-light-muted/80 dark:text-soft-gray/60",children:["Belum punya akun?"," ",e.jsx(S,{to:"/register",className:"text-accent-blue hover:text-accent-blue/80 hover:underline font-medium transition-colors",children:"Daftar di sini"})]}),e.jsx("p",{className:"text-light-muted/80 dark:text-soft-gray/60",children:e.jsx(S,{to:"/forgot-password",className:"text-amber-500 dark:text-amber-400 hover:underline font-medium transition-colors",children:"Lupa Password?"})})]})]})]})},O=({texts:s,typingSpeed:c=100,deletingSpeed:o=50,delayBetween:u=2e3,className:i=""})=>{const[m,k]=t.useState(0),[d,f]=t.useState(""),[r,b]=t.useState(!1);return t.useEffect(()=>{const x=s[m],h=setTimeout(()=>{f(r?n=>n.substring(0,n.length-1):n=>x.substring(0,n.length+1)),!r&&d===x?setTimeout(()=>b(!0),u):r&&d===""&&(b(!1),k(n=>(n+1)%s.length))},r?o:c);return()=>clearTimeout(h)},[d,r,m,s,c,o,u]),e.jsxs("span",{className:`${i} inline-block`,children:[d,e.jsx("span",{className:"animate-pulse",children:"|"})]})},se=()=>{const s=R(),[c,o]=t.useState(!1);t.useEffect(()=>{o(!0);const i=I(),m=z();i&&m&&s("/dashboard",{replace:!0})},[s]);const u=i=>{s("/dashboard",{replace:!0})};return e.jsxs("div",{className:"min-h-screen w-full relative flex flex-col bg-light-bg dark:bg-deep-navy overflow-y-auto",children:[e.jsx(q,{intensity:.01,zIndex:10,opacity:.1}),e.jsxs("header",{className:"relative px-6 py-5 flex justify-between items-center",children:[e.jsxs(S,{to:"/",className:"flex items-center gap-3 text-light-text dark:text-white hover:text-accent-blue dark:hover:text-accent-blue transition-all duration-300 group",children:[e.jsx("span",{className:"w-8 h-8 rounded-full bg-accent-blue/20 flex items-center justify-center text-accent-blue group-hover:bg-accent-blue group-hover:text-white transition-all duration-300",children:"←"}),e.jsx("span",{className:"hidden sm:inline font-medium",children:"Kembali"})]}),e.jsx("div",{className:"flex items-center gap-4",children:e.jsx(_,{})})]}),e.jsx("main",{className:`flex-1 flex items-center justify-center p-4 sm:p-6 lg:p-8 z-10 transition-all duration-700 ${c?"opacity-100 translate-y-0":"opacity-0 translate-y-4"}`,children:e.jsxs("div",{className:"w-full max-w-6xl flex flex-col items-center lg:flex-row gap-8 lg:gap-12",children:[e.jsxs("div",{className:"flex-1 space-y-6 text-center lg:text-left",children:[e.jsx("div",{className:"space-y-2",children:e.jsx("h1",{className:"text-3xl sm:text-4xl lg:text-5xl font-bold text-light-text dark:text-white min-h-[2.5rem] sm:min-h-[3.5rem] lg:min-h-[4rem]",children:e.jsx(O,{texts:["ꦮꦶꦭꦸꦗꦺꦁ ꦱꦸꦩ꧀ꦥꦶꦁ","Selamat Datang","Welcome","مرحبا"],typingSpeed:100,deletingSpeed:50,delayBetween:1e3})})}),e.jsx("p",{className:"text-base sm:text-lg text-light-muted dark:text-soft-gray leading-relaxed max-w-lg mx-auto lg:mx-0",children:"Masuk ke dashboard untuk mengakses lebih banyak fitur backend yang sudah tersedia"}),e.jsxs("div",{className:"mt-8 pt-6 border-t border-gray-200 dark:border-white/5",children:[e.jsx("p",{className:"text-xs text-center text-gray-500 dark:text-gray-400 mb-3 font-medium uppercase tracking-wider",children:"Kalo mau nyoba login"}),e.jsxs("div",{className:"flex justify-center gap-4 text-xs",children:[e.jsxs("div",{className:"px-3 py-1.5 rounded-lg bg-gray-100 dark:bg-white/5 border border-gray-200 dark:border-white/10 text-gray-600 dark:text-gray-300",children:["username: admin ",e.jsx("br",{})," password: admin123"]}),e.jsxs("div",{className:"px-3 py-1.5 rounded-lg bg-gray-100 dark:bg-white/5 border border-gray-200 dark:border-white/10 text-gray-600 dark:text-gray-300",children:["username: user ",e.jsx("br",{})," password: user123"]})]})]})]}),e.jsx("div",{className:"flex-1 w-full max-w-md",children:e.jsx(H,{onLoginSuccess:u,navigateDelay:1e3})})]})}),e.jsx("footer",{className:"relative z-20 py-4 px-6 text-center",children:e.jsx("p",{className:"text-xs text-light-muted/60 dark:text-soft-gray/40",children:"Sebuah website random"})})]})};export{se as default};
