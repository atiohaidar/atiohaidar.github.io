const i="https://backend.atiohaidar.workers.dev/api";async function d(e){return n(`/users/${e}`)}let o=null;function u(e){o=e,typeof localStorage<"u"&&localStorage.setItem("game_token",e)}function f(){return o||(typeof localStorage<"u"&&(o=localStorage.getItem("game_token")),o)}function g(){o=null,typeof localStorage<"u"&&localStorage.removeItem("game_token")}async function n(e,t={}){const r=f(),s={"Content-Type":"application/json",...r&&{Authorization:`Bearer ${r}`},...t.headers};try{return await(await fetch(`${i}${e}`,{...t,headers:s})).json()}catch(a){return{success:!1,error:a instanceof Error?a.message:"Unknown error"}}}async function y(e){var t,r;try{const a=await(await fetch(`${i}/auth/login`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)})).json();if(a.success){const c=a.token||((t=a.data)==null?void 0:t.token),m=a.user||((r=a.data)==null?void 0:r.user);if(c)return u(c),{success:!0,data:{token:c,user:m}}}return{success:!1,error:a.error||"Login failed"}}catch(s){return{success:!1,error:s instanceof Error?s.message:"Unknown error"}}}async function l(){return n("/game/profile")}async function h(){return n("/game/profile/reset",{method:"POST"})}async function p(){return n("/game/farm")}async function S(e,t,r,s){return n("/game/farm/plant",{method:"POST",body:JSON.stringify({plot_index:e,crop_id:t,x:r,y:s})})}async function O(e){return n("/game/farm/water",{method:"POST",body:JSON.stringify({plot_index:e})})}async function T(e,t,r,s){return n("/game/farm/place",{method:"POST",body:JSON.stringify({plot_index:e,item_id:t,x:r,y:s})})}async function P(e){return n("/game/farm/remove",{method:"POST",body:JSON.stringify({plot_index:e})})}async function b(){return n("/game/farm/expand",{method:"POST"})}async function k(e){return n("/game/farm/harvest",{method:"POST",body:JSON.stringify({plot_index:e})})}async function v(){return n("/game/farm/harvest-all",{method:"POST"})}async function A(){return n("/game/crops")}async function _(){return n("/game/shop")}async function x(e,t=1){return n("/game/shop/purchase",{method:"POST",body:JSON.stringify({item_id:e,quantity:t})})}async function I(){return n("/game/inventory")}async function $(){return n("/game/achievements")}async function J(e){return n(`/game/achievements/${e}/claim`,{method:"POST"})}async function N(){return n("/game/quests/daily")}async function w(e){return n(`/game/quests/${e}/claim`,{method:"POST"})}async function C(e=50){return n(`/game/leaderboard?limit=${e}`)}async function E(e){return n("/game/exchange/gems",{method:"POST",body:JSON.stringify({balance_amount:e})})}async function j(e){return n("/game/exchange/gold",{method:"POST",body:JSON.stringify({balance_amount:e})})}async function B(){return n("/game/constants")}async function D(e=50,t=0){return n(`/game/admin/players?limit=${e}&offset=${t}`)}async function L(e){return n("/game/admin/items",{method:"POST",body:JSON.stringify(e)})}async function U(e,t){return n(`/game/admin/items/${e}`,{method:"PUT",body:JSON.stringify(t)})}async function q(e){return n(`/game/admin/items/${e}`,{method:"DELETE"})}export{x as A,q as B,U as C,L as D,f as a,I as b,l as c,C as d,A as e,p as f,D as g,_ as h,v as i,b as j,g as k,y as l,k as m,T as n,h as o,S as p,$ as q,P as r,N as s,J as t,w as u,B as v,O as w,d as x,j as y,E as z};
