import{s as dl,n as qe,d as f,r as mt,b as X,z as ge,i as F,f as a,p as x,a as u,y as hl,k as N,c as d,h as I,g as q,j as L,B as Oe,l as S,e as h,t as M,v as Qe,o as _l,C as vl,D as ml,m as fl,E as It,F as Ot,A as vt}from"../chunks/B7IVlGRa.js";import{e as Ke,u as kl,d as pl}from"../chunks/CpP9pC9E.js";import{S as bl,i as yl}from"../chunks/DLCLDNME.js";import{g as Kt}from"../chunks/DNSDmc-3.js";import{b as Ze}from"../chunks/CqclTaXi.js";import{a as gl,c as zt,e as Cl,f as Rt,h as wl,i as jl,j as Pl,p as Xt,k as El,m as Il,w as Nl,b as Sl,n as Wt,r as Tl}from"../chunks/CRx-16XS.js";import{i as Yt,a as Al,p as Pt,c as Et,f as xe,b as Te,d as Ue,s as O,e as Dl}from"../chunks/DZRcXUVt.js";function Jt(l,e,t){const s=l.slice();return s[51]=e[t],s}function Qt(l,e,t){const s=l.slice();return s[54]=e[t],s}function Zt(l,e,t){const s=l.slice();return s[57]=e[t],s}function Bl(l){let e,t,s="üåæ Bercocok tanam üåæ",r,i,n,_,k=l[9].filter(ol).length+"",v,m,w,c,b,p=[],V=new Map,j,y,A,C,H,D,W=l[9].filter(cl).length+"",Y,R,ie,re,$,ce=Ke(l[9]);const Q=P=>P[57].id||P[57].plot_index;for(let P=0;P<ce.length;P+=1){let T=Zt(l,ce,P),K=Q(T);V.set(K,p[P]=ll(K,T))}function G(P,T){return P[3]?Hl:Fl}let Z=G(l),J=Z(l);return{c(){e=h("div"),t=h("h2"),t.textContent=s,r=S(),i=h("div"),n=h("span"),_=M("Tanaman: "),v=M(k),m=M(` /
                        `),w=M(l[0]),c=S(),b=h("div");for(let P=0;P<p.length;P+=1)p[P].c();j=S(),y=h("p"),J.c(),A=S(),C=h("div"),H=h("span"),D=M("Tanaman: "),Y=M(W),R=M(` /
                        `),ie=M(l[0]),this.h()},l(P){e=d(P,"DIV",{class:!0});var T=I(e);t=d(T,"H2",{class:!0,"data-svelte-h":!0}),q(t)!=="svelte-7qcmfa"&&(t.textContent=s),r=N(T),i=d(T,"DIV",{class:!0});var K=I(i);n=d(K,"SPAN",{});var ke=I(n);_=L(ke,"Tanaman: "),v=L(ke,k),m=L(ke,` /
                        `),w=L(ke,l[0]),ke.forEach(f),K.forEach(f),c=N(T),b=d(T,"DIV",{class:!0,role:!0,tabindex:!0});var Ce=I(b);for(let we=0;we<p.length;we+=1)p[we].l(Ce);Ce.forEach(f),j=N(T),y=d(T,"P",{class:!0});var de=I(y);J.l(de),de.forEach(f),A=N(T),C=d(T,"DIV",{class:!0});var he=I(C);H=d(he,"SPAN",{});var ue=I(H);D=L(ue,"Tanaman: "),Y=L(ue,W),R=L(ue,` /
                        `),ie=L(ue,l[0]),ue.forEach(f),he.forEach(f),T.forEach(f),this.h()},h(){u(t,"class","farm-title absolute-top svelte-jf1yk8"),u(i,"class","land-usage-badge top-right svelte-jf1yk8"),u(b,"class","farm-land svelte-jf1yk8"),u(b,"role","button"),u(b,"tabindex","0"),u(y,"class","farm-hint svelte-jf1yk8"),u(C,"class","land-usage-badge svelte-jf1yk8"),u(e,"class","farm-land-container svelte-jf1yk8")},m(P,T){F(P,e,T),a(e,t),a(e,r),a(e,i),a(i,n),a(n,_),a(n,v),a(n,m),a(n,w),a(e,c),a(e,b);for(let K=0;K<p.length;K+=1)p[K]&&p[K].m(b,null);a(e,j),a(e,y),J.m(y,null),a(e,A),a(e,C),a(C,H),a(H,D),a(H,Y),a(H,R),a(H,ie),re||($=[x(b,"click",l[18]),x(b,"keydown",Wl)],re=!0)},p(P,T){T[0]&512&&k!==(k=P[9].filter(ol).length+"")&&X(v,k),T[0]&1&&X(w,P[0]),T[0]&68104&&(ce=Ke(P[9]),p=kl(p,T,Q,1,P,ce,V,b,pl,ll,null,Zt)),Z!==(Z=G(P))&&(J.d(1),J=Z(P),J&&(J.c(),J.m(y,null))),T[0]&512&&W!==(W=P[9].filter(cl).length+"")&&X(Y,W),T[0]&1&&X(ie,P[0])},d(P){P&&f(e);for(let T=0;T<p.length;T+=1)p[T].d();J.d(),re=!1,mt($)}}}function Ll(l){let e,t='<div class="loading-spinner svelte-jf1yk8"></div> <p>Memuat kebun...</p>';return{c(){e=h("div"),e.innerHTML=t,this.h()},l(s){e=d(s,"DIV",{class:!0,"data-svelte-h":!0}),q(e)!=="svelte-sbbblt"&&(e.innerHTML=t),this.h()},h(){u(e,"class","loading-overlay svelte-jf1yk8")},m(s,r){F(s,e,r)},p:qe,d(s){s&&f(e)}}}function Ml(l){let e;return{c(){e=h("div"),this.h()},l(t){e=d(t,"DIV",{class:!0,style:!0}),I(e).forEach(f),this.h()},h(){u(e,"class","soil-patch svelte-jf1yk8"),vt(e,"opacity",l[3]?.7:.4)},m(t,s){F(t,e,s)},p(t,s){s[0]&8&&vt(e,"opacity",t[3]?.7:.4)},d(t){t&&f(e)}}}function Vl(l){let e,t=l[16](l[57].placed_item_id)+"",s,r,i,n=l[3]&&xt();return{c(){e=h("span"),s=M(t),r=S(),n&&n.c(),i=Oe(),this.h()},l(_){e=d(_,"SPAN",{class:!0});var k=I(e);s=L(k,t),k.forEach(f),r=N(_),n&&n.l(_),i=Oe(),this.h()},h(){u(e,"class","crop-icon svelte-jf1yk8")},m(_,k){F(_,e,k),a(e,s),F(_,r,k),n&&n.m(_,k),F(_,i,k)},p(_,k){k[0]&512&&t!==(t=_[16](_[57].placed_item_id)+"")&&X(s,t),_[3]?n||(n=xt(),n.c(),n.m(i.parentNode,i)):n&&(n.d(1),n=null)},d(_){_&&(f(e),f(r),f(i)),n&&n.d(_)}}}function Gl(l){var w;let e,t=(((w=l[57].crop)==null?void 0:w.icon)||"üå±")+"",s,r,i,n,_,k=!l[57].ready&&$t(l),v=l[57].ready&&el(),m=l[57].watered&&!l[57].ready&&tl();return{c(){e=h("span"),s=M(t),r=S(),k&&k.c(),i=S(),v&&v.c(),n=S(),m&&m.c(),_=Oe(),this.h()},l(c){e=d(c,"SPAN",{class:!0});var b=I(e);s=L(b,t),b.forEach(f),r=N(c),k&&k.l(c),i=N(c),v&&v.l(c),n=N(c),m&&m.l(c),_=Oe(),this.h()},h(){u(e,"class","crop-icon svelte-jf1yk8")},m(c,b){F(c,e,b),a(e,s),F(c,r,b),k&&k.m(c,b),F(c,i,b),v&&v.m(c,b),F(c,n,b),m&&m.m(c,b),F(c,_,b)},p(c,b){var p;b[0]&512&&t!==(t=(((p=c[57].crop)==null?void 0:p.icon)||"üå±")+"")&&X(s,t),c[57].ready?k&&(k.d(1),k=null):k?k.p(c,b):(k=$t(c),k.c(),k.m(i.parentNode,i)),c[57].ready?v||(v=el(),v.c(),v.m(n.parentNode,n)):v&&(v.d(1),v=null),c[57].watered&&!c[57].ready?m||(m=tl(),m.c(),m.m(_.parentNode,_)):m&&(m.d(1),m=null)},d(c){c&&(f(e),f(r),f(i),f(n),f(_)),k&&k.d(c),v&&v.d(c),m&&m.d(c)}}}function xt(l){let e,t="‚ùå";return{c(){e=h("span"),e.textContent=t,this.h()},l(s){e=d(s,"SPAN",{class:!0,"data-svelte-h":!0}),q(e)!=="svelte-1twjczf"&&(e.textContent=t),this.h()},h(){u(e,"class","remove-badge svelte-jf1yk8")},m(s,r){F(s,e,r)},d(s){s&&f(e)}}}function $t(l){let e,t;return{c(){e=h("div"),t=h("div"),this.h()},l(s){e=d(s,"DIV",{class:!0});var r=I(e);t=d(r,"DIV",{class:!0,style:!0}),I(t).forEach(f),r.forEach(f),this.h()},h(){u(t,"class","growth-fill svelte-jf1yk8"),vt(t,"width",(l[57].growth_percent||0)+"%"),u(e,"class","growth-bar svelte-jf1yk8")},m(s,r){F(s,e,r),a(e,t)},p(s,r){r[0]&512&&vt(t,"width",(s[57].growth_percent||0)+"%")},d(s){s&&f(e)}}}function el(l){let e,t="‚úì";return{c(){e=h("span"),e.textContent=t,this.h()},l(s){e=d(s,"SPAN",{class:!0,"data-svelte-h":!0}),q(e)!=="svelte-sb147j"&&(e.textContent=t),this.h()},h(){u(e,"class","ready-badge svelte-jf1yk8")},m(s,r){F(s,e,r)},d(s){s&&f(e)}}}function tl(l){let e,t="üíß";return{c(){e=h("span"),e.textContent=t,this.h()},l(s){e=d(s,"SPAN",{class:!0,"data-svelte-h":!0}),q(e)!=="svelte-m2nons"&&(e.textContent=t),this.h()},h(){u(e,"class","water-badge svelte-jf1yk8")},m(s,r){F(s,e,r)},d(s){s&&f(e)}}}function ll(l,e){let t,s,r,i,n;function _(w,c){return w[57].crop_id?Gl:w[57].placed_item_id?Vl:Ml}let k=_(e),v=k(e);function m(){return e[24](e[57])}return{key:l,first:null,c(){t=h("button"),v.c(),s=S(),this.h()},l(w){t=d(w,"BUTTON",{class:!0,style:!0});var c=I(t);v.l(c),s=N(c),c.forEach(f),this.h()},h(){u(t,"class","map-object plot-cell svelte-jf1yk8"),u(t,"style",r=rl(e[57])),ge(t,"has-crop",e[57].crop_id),ge(t,"ready",e[57].ready),ge(t,"watered",e[57].watered),this.first=t},m(w,c){F(w,t,c),v.m(t,null),a(t,s),i||(n=x(t,"click",It(m)),i=!0)},p(w,c){e=w,k===(k=_(e))&&v?v.p(e,c):(v.d(1),v=k(e),v&&(v.c(),v.m(t,s))),c[0]&512&&r!==(r=rl(e[57]))&&u(t,"style",r),c[0]&512&&ge(t,"has-crop",e[57].crop_id),c[0]&512&&ge(t,"ready",e[57].ready),c[0]&512&&ge(t,"watered",e[57].watered)},d(w){w&&f(t),v.d(),i=!1,n()}}}function Fl(l){let e;return{c(){e=M(`Klik lahan kosong untuk menanam. Klik tanaman untuk
                        memanen/menyiram.`)},l(t){e=L(t,`Klik lahan kosong untuk menanam. Klik tanaman untuk
                        memanen/menyiram.`)},m(t,s){F(t,e,s)},d(t){t&&f(e)}}}function Hl(l){let e;return{c(){e=M("Pilih item dan klik di mana saja untuk membangun!")},l(t){e=L(t,"Pilih item dan klik di mana saja untuk membangun!")},m(t,s){F(t,e,s)},d(t){t&&f(e)}}}function Ul(l){let e;function t(i,n){return i[5]?Kl:Ol}let s=t(l),r=s(l);return{c(){e=h("div"),r.c(),this.h()},l(i){e=d(i,"DIV",{class:!0});var n=I(e);r.l(n),n.forEach(f),this.h()},h(){u(e,"class","build-controls svelte-jf1yk8")},m(i,n){F(i,e,n),r.m(e,null)},p(i,n){s===(s=t(i))&&r?r.p(i,n):(r.d(1),r=s(i),r&&(r.c(),r.m(e,null)))},d(i){i&&f(e),r.d()}}}function ql(l){let e,t="üåæ Panen Semua (H)",s,r;return{c(){e=h("button"),e.textContent=t,this.h()},l(i){e=d(i,"BUTTON",{class:!0,"data-svelte-h":!0}),q(e)!=="svelte-vaxim1"&&(e.textContent=t),this.h()},h(){u(e,"class","btn btn-primary w-full")},m(i,n){F(i,e,n),s||(r=x(e,"click",l[14]),s=!0)},p:qe,d(i){i&&f(e),s=!1,r()}}}function Ol(l){let e,t="Pilih Item untuk Diletakkan",s,r;return{c(){e=h("button"),e.textContent=t,this.h()},l(i){e=d(i,"BUTTON",{class:!0,"data-svelte-h":!0}),q(e)!=="svelte-wkj3gl"&&(e.textContent=t),this.h()},h(){u(e,"class","btn btn-secondary w-full")},m(i,n){F(i,e,n),s||(r=x(e,"click",l[26]),s=!0)},p:qe,d(i){i&&f(e),s=!1,r()}}}function Kl(l){var w;let e,t,s,r=((w=l[5].item)==null?void 0:w.name)+"",i,n,_,k="Ganti",v,m;return{c(){e=h("div"),t=h("span"),s=M("Dipilih: "),i=M(r),n=S(),_=h("button"),_.textContent=k,this.h()},l(c){e=d(c,"DIV",{class:!0});var b=I(e);t=d(b,"SPAN",{});var p=I(t);s=L(p,"Dipilih: "),i=L(p,r),p.forEach(f),n=N(b),_=d(b,"BUTTON",{class:!0,"data-svelte-h":!0}),q(_)!=="svelte-rxgwyw"&&(_.textContent=k),b.forEach(f),this.h()},h(){u(_,"class","btn-xs svelte-jf1yk8"),u(e,"class","selected-item svelte-jf1yk8")},m(c,b){F(c,e,b),a(e,t),a(t,s),a(t,i),a(e,n),a(e,_),v||(m=x(_,"click",l[25]),v=!0)},p(c,b){var p;b[0]&32&&r!==(r=((p=c[5].item)==null?void 0:p.name)+"")&&X(i,r)},d(c){c&&f(e),v=!1,m()}}}function sl(l){let e,t,s,r="üå± Pilih Benih",i,n,_="Pilih apa yang ingin ditanam di petak ini",k,v,m,w,c="Batal",b,p,V=Ke(l[8]),j=[];for(let y=0;y<V.length;y+=1)j[y]=al(Qt(l,V,y));return{c(){e=h("div"),t=h("div"),s=h("h2"),s.textContent=r,i=S(),n=h("p"),n.textContent=_,k=S(),v=h("div");for(let y=0;y<j.length;y+=1)j[y].c();m=S(),w=h("button"),w.textContent=c,this.h()},l(y){e=d(y,"DIV",{class:!0,role:!0,tabindex:!0});var A=I(e);t=d(A,"DIV",{class:!0,role:!0});var C=I(t);s=d(C,"H2",{class:!0,"data-svelte-h":!0}),q(s)!=="svelte-1rm30f5"&&(s.textContent=r),i=N(C),n=d(C,"P",{class:!0,"data-svelte-h":!0}),q(n)!=="svelte-2buezq"&&(n.textContent=_),k=N(C),v=d(C,"DIV",{class:!0});var H=I(v);for(let D=0;D<j.length;D+=1)j[D].l(H);H.forEach(f),m=N(C),w=d(C,"BUTTON",{class:!0,"data-svelte-h":!0}),q(w)!=="svelte-ana2o4"&&(w.textContent=c),C.forEach(f),A.forEach(f),this.h()},h(){u(s,"class","svelte-jf1yk8"),u(n,"class","text-muted"),u(v,"class","seed-grid svelte-jf1yk8"),u(w,"class","btn btn-secondary"),u(t,"class","modal seed-selector svelte-jf1yk8"),u(t,"role","dialog"),u(e,"class","modal-overlay"),u(e,"role","button"),u(e,"tabindex","0")},m(y,A){F(y,e,A),a(e,t),a(t,s),a(t,i),a(t,n),a(t,k),a(t,v);for(let C=0;C<j.length;C+=1)j[C]&&j[C].m(v,null);a(t,m),a(t,w),b||(p=[x(w,"click",l[15]),x(t,"click",It(l[23])),x(e,"click",l[15]),x(e,"keydown",l[28])],b=!0)},p(y,A){if(A[0]&524546){V=Ke(y[8]);let C;for(C=0;C<V.length;C+=1){const H=Qt(y,V,C);j[C]?j[C].p(H,A):(j[C]=al(H),j[C].c(),j[C].m(v,null))}for(;C<j.length;C+=1)j[C].d(1);j.length=V.length}},d(y){y&&f(e),fl(j,y),b=!1,mt(p)}}}function al(l){let e,t,s=(l[54].icon||"üå±")+"",r,i,n,_=l[54].name+"",k,v,m,w,c=l[54].seed_price+"",b,p,V,j,y,A=l[54].grow_time_seconds+"",C,H,D=l[54].sell_price+"",W,Y,R,ie,re,$;function ce(){return l[27](l[54])}return{c(){e=h("button"),t=h("span"),r=M(s),i=S(),n=h("span"),k=M(_),v=S(),m=h("span"),w=h("span"),b=M(c),p=M(" ü™ô"),V=S(),j=h("span"),y=M("‚è±Ô∏è "),C=M(A),H=M("s ‚Üí üí∞ "),W=M(D),Y=S(),this.h()},l(Q){e=d(Q,"BUTTON",{class:!0});var G=I(e);t=d(G,"SPAN",{class:!0});var Z=I(t);r=L(Z,s),Z.forEach(f),i=N(G),n=d(G,"SPAN",{class:!0});var J=I(n);k=L(J,_),J.forEach(f),v=N(G),m=d(G,"SPAN",{class:!0});var P=I(m);w=d(P,"SPAN",{class:!0});var T=I(w);b=L(T,c),T.forEach(f),p=L(P," ü™ô"),P.forEach(f),V=N(G),j=d(G,"SPAN",{class:!0});var K=I(j);y=L(K,"‚è±Ô∏è "),C=L(K,A),H=L(K,"s ‚Üí üí∞ "),W=L(K,D),K.forEach(f),Y=N(G),G.forEach(f),this.h()},h(){var Q;u(t,"class","icon svelte-jf1yk8"),u(n,"class","name svelte-jf1yk8"),u(w,"class","text-gold"),u(m,"class","price svelte-jf1yk8"),u(j,"class","info svelte-jf1yk8"),u(e,"class",R="seed-item tier-"+l[54].tier+" svelte-jf1yk8"),e.disabled=ie=(((Q=l[1])==null?void 0:Q.gold)||0)<l[54].seed_price},m(Q,G){F(Q,e,G),a(e,t),a(t,r),a(e,i),a(e,n),a(n,k),a(e,v),a(e,m),a(m,w),a(w,b),a(m,p),a(e,V),a(e,j),a(j,y),a(j,C),a(j,H),a(j,W),a(e,Y),re||($=x(e,"click",ce),re=!0)},p(Q,G){var Z;l=Q,G[0]&256&&s!==(s=(l[54].icon||"üå±")+"")&&X(r,s),G[0]&256&&_!==(_=l[54].name+"")&&X(k,_),G[0]&256&&c!==(c=l[54].seed_price+"")&&X(b,c),G[0]&256&&A!==(A=l[54].grow_time_seconds+"")&&X(C,A),G[0]&256&&D!==(D=l[54].sell_price+"")&&X(W,D),G[0]&256&&R!==(R="seed-item tier-"+l[54].tier+" svelte-jf1yk8")&&u(e,"class",R),G[0]&258&&ie!==(ie=(((Z=l[1])==null?void 0:Z.gold)||0)<l[54].seed_price)&&(e.disabled=ie)},d(Q){Q&&f(e),re=!1,$()}}}function nl(l){let e,t,s,r="üî® Pilih Item untuk Dibangun",i,n,_="Dekorasi & Peningkatan",k,v,m,w="Batal",c,b;function p(y,A){return y[4].length===0?Rl:zl}let V=p(l),j=V(l);return{c(){e=h("div"),t=h("div"),s=h("h2"),s.textContent=r,i=S(),n=h("p"),n.textContent=_,k=S(),j.c(),v=S(),m=h("button"),m.textContent=w,this.h()},l(y){e=d(y,"DIV",{class:!0,role:!0,tabindex:!0});var A=I(e);t=d(A,"DIV",{class:!0,role:!0});var C=I(t);s=d(C,"H2",{class:!0,"data-svelte-h":!0}),q(s)!=="svelte-1xuxgnn"&&(s.textContent=r),i=N(C),n=d(C,"P",{class:!0,"data-svelte-h":!0}),q(n)!=="svelte-1yrdpmy"&&(n.textContent=_),k=N(C),j.l(C),v=N(C),m=d(C,"BUTTON",{class:!0,"data-svelte-h":!0}),q(m)!=="svelte-1htoo2b"&&(m.textContent=w),C.forEach(f),A.forEach(f),this.h()},h(){u(s,"class","svelte-jf1yk8"),u(n,"class","text-muted"),u(m,"class","btn btn-secondary"),u(t,"class","modal seed-selector svelte-jf1yk8"),u(t,"role","dialog"),u(e,"class","modal-overlay"),u(e,"role","button"),u(e,"tabindex","0")},m(y,A){F(y,e,A),a(e,t),a(t,s),a(t,i),a(t,n),a(t,k),j.m(t,null),a(t,v),a(t,m),c||(b=[x(m,"click",l[31]),x(t,"click",It(l[22])),x(e,"click",l[32])],c=!0)},p(y,A){V===(V=p(y))&&j?j.p(y,A):(j.d(1),j=V(y),j&&(j.c(),j.m(t,v)))},d(y){y&&f(e),j.d(),c=!1,mt(b)}}}function zl(l){let e,t=Ke(l[4]),s=[];for(let r=0;r<t.length;r+=1)s[r]=il(Jt(l,t,r));return{c(){e=h("div");for(let r=0;r<s.length;r+=1)s[r].c();this.h()},l(r){e=d(r,"DIV",{class:!0});var i=I(e);for(let n=0;n<s.length;n+=1)s[n].l(i);i.forEach(f),this.h()},h(){u(e,"class","seed-grid svelte-jf1yk8")},m(r,i){F(r,e,i);for(let n=0;n<s.length;n+=1)s[n]&&s[n].m(e,null)},p(r,i){if(i[0]&8208){t=Ke(r[4]);let n;for(n=0;n<t.length;n+=1){const _=Jt(r,t,n);s[n]?s[n].p(_,i):(s[n]=il(_),s[n].c(),s[n].m(e,null))}for(;n<s.length;n+=1)s[n].d(1);s.length=t.length}},d(r){r&&f(e),fl(s,r)}}}function Rl(l){let e,t,s="Tidak ada item yang dapat diletakkan.",r,i,n="Pergi ke Toko",_,k;return{c(){e=h("div"),t=h("p"),t.textContent=s,r=S(),i=h("a"),i.textContent=n,this.h()},l(v){e=d(v,"DIV",{class:!0});var m=I(e);t=d(m,"P",{"data-svelte-h":!0}),q(t)!=="svelte-10xzaw5"&&(t.textContent=s),r=N(m),i=d(m,"A",{href:!0,class:!0,"data-svelte-h":!0}),q(i)!=="svelte-1gl9rtl"&&(i.textContent=n),m.forEach(f),this.h()},h(){u(i,"href","/shop"),u(i,"class","btn btn-primary"),u(e,"class","empty-state svelte-jf1yk8")},m(v,m){F(v,e,m),a(e,t),a(e,r),a(e,i),_||(k=x(i,"click",l[29]),_=!0)},p:qe,d(v){v&&f(e),_=!1,k()}}}function il(l){var A,C;let e,t,s=(((A=l[51].item)==null?void 0:A.icon)||"üì¶")+"",r,i,n,_=((C=l[51].item)==null?void 0:C.name)+"",k,v,m,w,c=l[51].quantity+"",b,p,V,j;function y(){return l[30](l[51])}return{c(){e=h("button"),t=h("span"),r=M(s),i=S(),n=h("span"),k=M(_),v=S(),m=h("span"),w=M("Dimiliki: "),b=M(c),p=S(),this.h()},l(H){e=d(H,"BUTTON",{class:!0});var D=I(e);t=d(D,"SPAN",{class:!0});var W=I(t);r=L(W,s),W.forEach(f),i=N(D),n=d(D,"SPAN",{class:!0});var Y=I(n);k=L(Y,_),Y.forEach(f),v=N(D),m=d(D,"SPAN",{class:!0});var R=I(m);w=L(R,"Dimiliki: "),b=L(R,c),R.forEach(f),p=N(D),D.forEach(f),this.h()},h(){u(t,"class","icon svelte-jf1yk8"),u(n,"class","name svelte-jf1yk8"),u(m,"class","info svelte-jf1yk8"),u(e,"class","seed-item svelte-jf1yk8")},m(H,D){F(H,e,D),a(e,t),a(t,r),a(e,i),a(e,n),a(n,k),a(e,v),a(e,m),a(m,w),a(m,b),a(e,p),V||(j=x(e,"click",y),V=!0)},p(H,D){var W,Y;l=H,D[0]&16&&s!==(s=(((W=l[51].item)==null?void 0:W.icon)||"üì¶")+"")&&X(r,s),D[0]&16&&_!==(_=((Y=l[51].item)==null?void 0:Y.name)+"")&&X(k,_),D[0]&16&&c!==(c=l[51].quantity+"")&&X(b,c)},d(H){H&&f(e),V=!1,j()}}}function Xl(l){var Bt,Lt,Mt,Vt,Gt;let e,t,s,r,i,n,_="üåæ Aksi Cepat",k,v,m=l[3]?"‚ùå Keluar Mode Bangun":"üî® Mode Bangun",w,c,b,p,V,j="üõí Toko",y,A,C="üì¶ Inventaris",H,D,W="üë§ Profil",Y,R,ie="‚ú® Prestise",re,$,ce="üèÜ Peringkat",Q,G,Z="üö™ Keluar",J,P,T,K,ke="Level",Ce,de,he=(((Bt=l[1])==null?void 0:Bt.level)||1)+"",ue,we,pe,je,$e="Emas",ze,Ee,Ae=(((Mt=(Lt=l[1])==null?void 0:Lt.gold)==null?void 0:Mt.toLocaleString())||0)+"",Me,Re,be,Pe,et="Permata",o,g,B=(((Vt=l[1])==null?void 0:Vt.gems)||0)+"",U,oe,ee,fe,Xe="Panen",Ve,ye,Ie=(((Gt=l[1])==null?void 0:Gt.total_harvests)||0)+"",Ge,kt,Ne,De,Nt="Petak",pt,Se,We=l[9].filter(ul).length+"",tt,bt,lt,yt,_e,gt,st,Ct,at,wt,Be,St='<h4 class="svelte-jf1yk8">Tips</h4> <ul class="svelte-jf1yk8"><li class="svelte-jf1yk8">üíß Siram tanaman agar tumbuh 10% lebih cepat</li> <li class="svelte-jf1yk8">üåæ Tekan H untuk memanen semua tanaman siap panen</li> <li class="svelte-jf1yk8">‚¨ÜÔ∏è Tanaman tingkat tinggi = lebih banyak emas</li></ul>',nt,Fe,He,jt,Tt;function At(E,z){return E[2]?Ll:Bl}let it=At(l),ve=it(l);function Dt(E,z){return E[3]?Ul:ql}let rt=Dt(l),me=rt(l),te=l[10]&&sl(l),le=l[6]&&l[3]&&nl(l);return{c(){e=S(),t=h("div"),s=h("div"),ve.c(),r=S(),i=h("div"),n=h("h3"),n.textContent=_,k=S(),v=h("button"),w=M(m),c=S(),me.c(),b=S(),p=h("div"),V=h("a"),V.textContent=j,y=S(),A=h("a"),A.textContent=C,H=S(),D=h("a"),D.textContent=W,Y=S(),R=h("a"),R.textContent=ie,re=S(),$=h("a"),$.textContent=ce,Q=S(),G=h("button"),G.textContent=Z,J=S(),P=h("div"),T=h("div"),K=h("span"),K.textContent=ke,Ce=S(),de=h("span"),ue=M(he),we=S(),pe=h("div"),je=h("span"),je.textContent=$e,ze=S(),Ee=h("span"),Me=M(Ae),Re=S(),be=h("div"),Pe=h("span"),Pe.textContent=et,o=S(),g=h("span"),U=M(B),oe=S(),ee=h("div"),fe=h("span"),fe.textContent=Xe,Ve=S(),ye=h("span"),Ge=M(Ie),kt=S(),Ne=h("div"),De=h("span"),De.textContent=Nt,pt=S(),Se=h("span"),tt=M(We),bt=M(" / "),lt=M(l[0]),yt=S(),_e=h("button"),gt=M("Perluas Lahan ("),st=M(l[7]),Ct=M("g)"),wt=S(),Be=h("div"),Be.innerHTML=St,nt=S(),te&&te.c(),Fe=S(),le&&le.c(),He=Oe(),this.h()},l(E){hl("svelte-1ixs0xs",document.head).forEach(f),e=N(E),t=d(E,"DIV",{class:!0});var Le=I(t);s=d(Le,"DIV",{class:!0});var Ye=I(s);ve.l(Ye),Ye.forEach(f),r=N(Le),i=d(Le,"DIV",{class:!0});var se=I(i);n=d(se,"H3",{class:!0,"data-svelte-h":!0}),q(n)!=="svelte-18fv617"&&(n.textContent=_),k=N(se),v=d(se,"BUTTON",{class:!0});var Je=I(v);w=L(Je,m),Je.forEach(f),c=N(se),me.l(se),b=N(se),p=d(se,"DIV",{class:!0});var ae=I(p);V=d(ae,"A",{href:!0,class:!0,"data-svelte-h":!0}),q(V)!=="svelte-1hkaw9f"&&(V.textContent=j),y=N(ae),A=d(ae,"A",{href:!0,class:!0,"data-svelte-h":!0}),q(A)!=="svelte-1i9l7sf"&&(A.textContent=C),H=N(ae),D=d(ae,"A",{href:!0,class:!0,"data-svelte-h":!0}),q(D)!=="svelte-1l2xndt"&&(D.textContent=W),Y=N(ae),R=d(ae,"A",{href:!0,class:!0,"data-svelte-h":!0}),q(R)!=="svelte-5d9j6l"&&(R.textContent=ie),re=N(ae),$=d(ae,"A",{href:!0,class:!0,"data-svelte-h":!0}),q($)!=="svelte-dqtmc3"&&($.textContent=ce),Q=N(ae),G=d(ae,"BUTTON",{class:!0,"data-svelte-h":!0}),q(G)!=="svelte-1ign5c1"&&(G.textContent=Z),ae.forEach(f),J=N(se),P=d(se,"DIV",{class:!0});var ne=I(P);T=d(ne,"DIV",{class:!0});var ot=I(T);K=d(ot,"SPAN",{class:!0,"data-svelte-h":!0}),q(K)!=="svelte-1nnpz41"&&(K.textContent=ke),Ce=N(ot),de=d(ot,"SPAN",{class:!0});var Ft=I(de);ue=L(Ft,he),Ft.forEach(f),ot.forEach(f),we=N(ne),pe=d(ne,"DIV",{class:!0});var ct=I(pe);je=d(ct,"SPAN",{class:!0,"data-svelte-h":!0}),q(je)!=="svelte-1889a29"&&(je.textContent=$e),ze=N(ct),Ee=d(ct,"SPAN",{class:!0});var Ht=I(Ee);Me=L(Ht,Ae),Ht.forEach(f),ct.forEach(f),Re=N(ne),be=d(ne,"DIV",{class:!0});var ut=I(be);Pe=d(ut,"SPAN",{class:!0,"data-svelte-h":!0}),q(Pe)!=="svelte-1ddvr55"&&(Pe.textContent=et),o=N(ut),g=d(ut,"SPAN",{class:!0});var Ut=I(g);U=L(Ut,B),Ut.forEach(f),ut.forEach(f),oe=N(ne),ee=d(ne,"DIV",{class:!0});var ft=I(ee);fe=d(ft,"SPAN",{class:!0,"data-svelte-h":!0}),q(fe)!=="svelte-1p4uisj"&&(fe.textContent=Xe),Ve=N(ft),ye=d(ft,"SPAN",{class:!0});var qt=I(ye);Ge=L(qt,Ie),qt.forEach(f),ft.forEach(f),kt=N(ne),Ne=d(ne,"DIV",{class:!0});var dt=I(Ne);De=d(dt,"SPAN",{class:!0,"data-svelte-h":!0}),q(De)!=="svelte-xd0c6g"&&(De.textContent=Nt),pt=N(dt),Se=d(dt,"SPAN",{class:!0});var ht=I(Se);tt=L(ht,We),bt=L(ht," / "),lt=L(ht,l[0]),ht.forEach(f),dt.forEach(f),yt=N(ne),_e=d(ne,"BUTTON",{class:!0});var _t=I(_e);gt=L(_t,"Perluas Lahan ("),st=L(_t,l[7]),Ct=L(_t,"g)"),_t.forEach(f),ne.forEach(f),wt=N(se),Be=d(se,"DIV",{class:!0,"data-svelte-h":!0}),q(Be)!=="svelte-1k1wvu0"&&(Be.innerHTML=St),se.forEach(f),Le.forEach(f),nt=N(E),te&&te.l(E),Fe=N(E),le&&le.l(E),He=Oe(),this.h()},h(){var E;document.title="Mulai Bercocok tanam",u(s,"class","game-container svelte-jf1yk8"),u(n,"class","svelte-jf1yk8"),u(v,"class","btn w-full svelte-jf1yk8"),ge(v,"btn-primary",!l[3]),ge(v,"btn-warning",l[3]),u(V,"href",Ze+"/shop"),u(V,"class","nav-link svelte-jf1yk8"),u(A,"href",Ze+"/inventory"),u(A,"class","nav-link svelte-jf1yk8"),u(D,"href",Ze+"/profile"),u(D,"class","nav-link svelte-jf1yk8"),u(R,"href",Ze+"/prestige"),u(R,"class","nav-link svelte-jf1yk8"),u($,"href",Ze+"/leaderboard"),u($,"class","nav-link svelte-jf1yk8"),u(G,"class","nav-link logout-link svelte-jf1yk8"),u(p,"class","nav-links svelte-jf1yk8"),u(K,"class","label svelte-jf1yk8"),u(de,"class","value svelte-jf1yk8"),u(T,"class","stat svelte-jf1yk8"),u(je,"class","label svelte-jf1yk8"),u(Ee,"class","value text-gold svelte-jf1yk8"),u(pe,"class","stat svelte-jf1yk8"),u(Pe,"class","label svelte-jf1yk8"),u(g,"class","value text-gems svelte-jf1yk8"),u(be,"class","stat svelte-jf1yk8"),u(fe,"class","label svelte-jf1yk8"),u(ye,"class","value svelte-jf1yk8"),u(ee,"class","stat svelte-jf1yk8"),u(De,"class","label svelte-jf1yk8"),u(Se,"class","value svelte-jf1yk8"),u(Ne,"class","stat svelte-jf1yk8"),u(_e,"class","btn btn-secondary w-full mt-2"),_e.disabled=at=(((E=l[1])==null?void 0:E.gold)||0)<l[7],u(P,"class","stats svelte-jf1yk8"),u(Be,"class","quick-tips svelte-jf1yk8"),u(i,"class","side-panel svelte-jf1yk8"),u(t,"class","game-page svelte-jf1yk8")},m(E,z){F(E,e,z),F(E,t,z),a(t,s),ve.m(s,null),a(t,r),a(t,i),a(i,n),a(i,k),a(i,v),a(v,w),a(i,c),me.m(i,null),a(i,b),a(i,p),a(p,V),a(p,y),a(p,A),a(p,H),a(p,D),a(p,Y),a(p,R),a(p,re),a(p,$),a(p,Q),a(p,G),a(i,J),a(i,P),a(P,T),a(T,K),a(T,Ce),a(T,de),a(de,ue),a(P,we),a(P,pe),a(pe,je),a(pe,ze),a(pe,Ee),a(Ee,Me),a(P,Re),a(P,be),a(be,Pe),a(be,o),a(be,g),a(g,U),a(P,oe),a(P,ee),a(ee,fe),a(ee,Ve),a(ee,ye),a(ye,Ge),a(P,kt),a(P,Ne),a(Ne,De),a(Ne,pt),a(Ne,Se),a(Se,tt),a(Se,bt),a(Se,lt),a(P,yt),a(P,_e),a(_e,gt),a(_e,st),a(_e,Ct),a(i,wt),a(i,Be),F(E,nt,z),te&&te.m(E,z),F(E,Fe,z),le&&le.m(E,z),F(E,He,z),jt||(Tt=[x(v,"click",l[12]),x(G,"click",l[20]),x(_e,"click",l[17])],jt=!0)},p(E,z){var Le,Ye,se,Je,ae,ne;it===(it=At(E))&&ve?ve.p(E,z):(ve.d(1),ve=it(E),ve&&(ve.c(),ve.m(s,null))),z[0]&8&&m!==(m=E[3]?"‚ùå Keluar Mode Bangun":"üî® Mode Bangun")&&X(w,m),z[0]&8&&ge(v,"btn-primary",!E[3]),z[0]&8&&ge(v,"btn-warning",E[3]),rt===(rt=Dt(E))&&me?me.p(E,z):(me.d(1),me=rt(E),me&&(me.c(),me.m(i,b))),z[0]&2&&he!==(he=(((Le=E[1])==null?void 0:Le.level)||1)+"")&&X(ue,he),z[0]&2&&Ae!==(Ae=(((se=(Ye=E[1])==null?void 0:Ye.gold)==null?void 0:se.toLocaleString())||0)+"")&&X(Me,Ae),z[0]&2&&B!==(B=(((Je=E[1])==null?void 0:Je.gems)||0)+"")&&X(U,B),z[0]&2&&Ie!==(Ie=(((ae=E[1])==null?void 0:ae.total_harvests)||0)+"")&&X(Ge,Ie),z[0]&512&&We!==(We=E[9].filter(ul).length+"")&&X(tt,We),z[0]&1&&X(lt,E[0]),z[0]&128&&X(st,E[7]),z[0]&130&&at!==(at=(((ne=E[1])==null?void 0:ne.gold)||0)<E[7])&&(_e.disabled=at),E[10]?te?te.p(E,z):(te=sl(E),te.c(),te.m(Fe.parentNode,Fe)):te&&(te.d(1),te=null),E[6]&&E[3]?le?le.p(E,z):(le=nl(E),le.c(),le.m(He.parentNode,He)):le&&(le.d(1),le=null)},i:qe,o:qe,d(E){E&&(f(e),f(t),f(nt),f(Fe),f(He)),ve.d(),me.d(),te&&te.d(E),le&&le.d(E),jt=!1,mt(Tt)}}}function rl(l){let e=l.x,t=l.y;if(!e&&!t){const s=l.plot_index??0,r=4,i=s%r,n=Math.floor(s/r);e=15+i*20,t=15+n*20}return`position: absolute; left: ${e}%; top: ${t}%; z-index: ${Math.floor(t||0)};`}const ol=l=>l.crop_id,Wl=()=>{},cl=l=>l.crop_id,ul=l=>l.crop_id;function Yl(l,e,t){let s,r,i,n,_,k;Qe(l,Et,o=>t(21,r=o)),Qe(l,Ue,o=>t(36,i=o)),Qe(l,xe,o=>t(9,n=o)),Qe(l,Pt,o=>t(1,_=o)),Qe(l,Te,o=>t(10,k=o));let v=!0,m=!1,w=[],c=null,b=[],p=!1,V=null;_l(async()=>{if(!gl()){Kt("/");return}Yt.set(!0),await j(),Q(),t(2,v=!1),Al(async()=>{await y()},6e4),de(),window.addEventListener("keydown",$)}),vl(()=>{Dl(),he(),window.removeEventListener("keydown",$)});async function j(){const[o,g,B]=await Promise.all([zt(),Cl(),Rt()]);o.success&&o.data&&Pt.set(o.data),g.success&&g.data&&Et.set(g.data),B.success&&B.data&&xe.set(B.data),B.success&&B.data&&xe.set(B.data)}async function y(){const[o]=await Promise.all([Rt()]);o.success&&o.data&&xe.set(o.data)}async function A(){const o=await zt();o.success&&o.data&&Pt.set(o.data)}function C(o,g){if(m){H(o,g);return}if(!g){Ue.set(o),Te.set(!0);return}if(g.placed_item_id){O("Beralih ke Mode Bangun untuk memindahkan item ini","info");return}g.crop_id?g.ready?ie(o):g.watered?O(`Growing... ${g.time_remaining}s left`,"info"):R(o):(Ue.set(o),Te.set(!0))}async function H(o,g){if(g!=null&&g.placed_item_id){const B=await Tl(o);B.success?(O("Item dihapus! üì¶","success"),await y(),await D()):O(B.error||"Gagal menghapus","error");return}if(c){if(g!=null&&g.crop_id){O("Tidak dapat meletakkan di atas tanaman!","error");return}const B=await Wt(o,c.item_id);B.success?(O("Item diletakkan! üèóÔ∏è","success"),await y(),await D(),c.quantity<=1?t(5,c=null):t(5,c.quantity--,c)):O(B.error||"Gagal meletakkan","error");return}O("Pilih item untuk diletakkan terlebih dahulu!","info"),t(6,p=!0)}async function D(){const o=await Sl();o.success&&o.data&&t(4,w=o.data.filter(g=>{var B;return g.quantity>0&&["decoration","upgrade"].includes(((B=g.item)==null?void 0:B.type)||"")}))}function W(){t(3,m=!m),m?(D(),t(6,p=!0)):(t(5,c=null),t(6,p=!1))}function Y(o){var g;t(5,c=o),t(6,p=!1),O(`Dipilih ${(g=o.item)==null?void 0:g.name}. Klik petak untuk meletakkan.`,"info")}async function R(o){const g=await Nl(o);g.success?(O("Disiram! üíß Pertumbuhan +10%","info"),await y()):O(g.error||"Gagal menyiram","error")}async function ie(o){const g=await Il(o);if(g.success&&g.data){const{gold:B,xp:U,crop:oe,leveledUp:ee,newLevel:fe}=g.data;O(`+${B} gold, +${U} XP`,"gold"),ee&&O(`üéâ Naik Level! Sekarang level ${fe}`,"level"),await y(),await A()}else O(g.error||"Gagal memanen","error")}async function re(){const o=await jl();if(o.success&&o.data){const{total_gold:g,total_xp:B,harvested_count:U,leveled_up:oe,new_level:ee}=o.data;O(`Dipanen ${U}! +${g} emas, +${B} XP`,"gold"),oe&&O(`üéâ Naik Level! Sekarang level ${ee}`,"level"),await y(),await A()}else O(o.error||"Tidak ada tanaman siap panen","error")}function $(o){(o.key==="h"||o.key==="H")&&re(),o.key==="Escape"&&(Te.set(!1),Ue.set(null))}function ce(){Te.set(!1),Ue.set(null)}async function Q(){const o=await wl();o.success&&o.data&&(b=o.data)}function G(o){const g=b.find(B=>B.id===o);return(g==null?void 0:g.icon)||"üì¶"}let Z=9,J=500;async function P(){if(((_==null?void 0:_.gold)||0)<J){O(`Butuh ${J} emas untuk memperluas!`,"error");return}const o=await Pl();o.success&&o.data?(O(`Lahan diperluas! Anda sekarang memiliki ${o.data.new_plots_unlocked} petak.`,"success"),await A()):O(o.error||"Gagal memperluas","error")}let T=null;function K(o){if(o.target!==o.currentTarget)return;const g=o.currentTarget.getBoundingClientRect(),B=Math.min(100,Math.max(0,(o.clientX-g.left)/g.width*100)),U=Math.min(100,Math.max(0,(o.clientY-g.top)/g.height*100));if(m&&c){ke(B,U);return}if(!m){if(n.length>=Z){O(`Lahan penuh! (${n.length}/${Z}) Perluas lahan Anda untuk menanam lebih banyak.`,"error");return}T={x:B,y:U},Te.set(!0)}}async function ke(o,g){if(!c)return;const B=await Wt(void 0,c.item_id,o,g);B.success?(O("Item diletakkan! üèóÔ∏è","success"),await y(),await D(),c.quantity<=1?t(5,c=null):t(5,c.quantity--,c)):O(B.error||"Gagal","error")}async function Ce(o){if(T){Te.set(!1);const{x:U,y:oe}=T;T=null;const ee=await Xt(void 0,o,U,oe);ee.success?(O("Ditanam! üå±","success"),await y(),await A()):O(ee.error||"Gagal","error");return}const g=i;if(g===null)return;Te.set(!1),Ue.set(null);const B=await Xt(g,o);if(B.success){const U=r.find(oe=>oe.id===o);O(`Menanam ${(U==null?void 0:U.name)||"tanaman"}! üå±`,"success"),await y(),await A()}else O(B.error||"Gagal menanam","error")}function de(){he(),V=setInterval(ue,1e3)}function he(){V&&(clearInterval(V),V=null)}function ue(){const o=Date.now(),g=ml(Et);xe.update(B=>B.map(U=>{if(!U.crop_id||!U.planted_at||U.ready)return U;const oe=U.crop||g.find(Ge=>Ge.id===U.crop_id);if(!oe)return U;const ee=new Date(U.planted_at).getTime(),fe=oe.grow_time_seconds*1e3,Xe=U.watered?fe/1.1:fe,Ve=o-ee;let ye=Ve/Xe*100,Ie=Math.max(0,Math.ceil((Xe-Ve)/1e3));return ye>=100?(ye=100,Ie=0,{...U,growth_percent:100,time_remaining:0,ready:!0}):{...U,growth_percent:ye,time_remaining:Ie}}))}function we(){El(),Yt.set(!1),Kt("/")}function pe(o){Ot.call(this,l,o)}function je(o){Ot.call(this,l,o)}const $e=o=>C(o.plot_index,o),ze=()=>t(6,p=!0),Ee=()=>t(6,p=!0),Ae=o=>Ce(o.id),Me=o=>o.key==="Escape"&&ce(),Re=()=>t(3,m=!1),be=o=>Y(o),Pe=()=>t(6,p=!1),et=()=>t(6,p=!1);return l.$$.update=()=>{l.$$.dirty[0]&2097154&&t(8,s=r.filter(o=>o.unlock_level<=((_==null?void 0:_.level)||1))),l.$$.dirty[0]&2&&t(0,Z=(_==null?void 0:_.plots_unlocked)||9),l.$$.dirty[0]&1&&t(7,J=Math.floor(500*Math.pow(1.5,Math.max(0,Z-9))))},[Z,_,v,m,w,c,p,J,s,n,k,C,W,Y,re,ce,G,P,K,Ce,we,r,pe,je,$e,ze,Ee,Ae,Me,Re,be,Pe,et]}class ls extends bl{constructor(e){super(),yl(this,e,Yl,Xl,dl,{},null,[-1,-1])}}export{ls as component};
