import{s as le,n as B,d as b,i as N,f as s,a as j,y as se,k as A,c as D,h as H,g as y,l as M,e as E,v as ae,o as ne,m as re,b as R,j as S,t as T,z as O}from"../chunks/B7IVlGRa.js";import{e as Q}from"../chunks/CpP9pC9E.js";import{S as ie,i as oe}from"../chunks/DLCLDNME.js";import{b as ce}from"../chunks/CqclTaXi.js";import{g as de}from"../chunks/DNSDmc-3.js";import{a as ue,d as ve,c as fe}from"../chunks/CRx-16XS.js";import{i as _e,p as W}from"../chunks/DZRcXUVt.js";function X(r,e,t){const o=r.slice();return o[5]=e[t],o[7]=t,o}function pe(r){let e,t,o,f,v,u,g,m='<span class="col-rank svelte-2ez8cj">Peringkat</span> <span class="col-player svelte-2ez8cj">Pemain</span> <span class="col-level">Level</span> <span class="col-prestige svelte-2ez8cj">Prestise</span> <span class="col-gold svelte-2ez8cj">Total Emas</span>',i,z,c=r[2]>0&&Y(r),_=r[0][1]&&Z(r),k=r[0][0]&&$(r),d=r[0][2]&&x(r),C=Q(r[0]),p=[];for(let l=0;l<C.length;l+=1)p[l]=ee(X(r,C,l));let I=r[0].length===0&&te();return{c(){c&&c.c(),e=M(),t=E("div"),_&&_.c(),o=M(),k&&k.c(),f=M(),d&&d.c(),v=M(),u=E("div"),g=E("div"),g.innerHTML=m,i=M();for(let l=0;l<p.length;l+=1)p[l].c();z=M(),I&&I.c(),this.h()},l(l){c&&c.l(l),e=A(l),t=D(l,"DIV",{class:!0});var h=H(t);_&&_.l(h),o=A(h),k&&k.l(h),f=A(h),d&&d.l(h),h.forEach(b),v=A(l),u=D(l,"DIV",{class:!0});var a=H(u);g=D(a,"DIV",{class:!0,"data-svelte-h":!0}),y(g)!=="svelte-17o5ope"&&(g.innerHTML=m),i=A(a);for(let n=0;n<p.length;n+=1)p[n].l(a);z=A(a),I&&I.l(a),a.forEach(b),this.h()},h(){j(t,"class","podium svelte-2ez8cj"),j(g,"class","table-header svelte-2ez8cj"),j(u,"class","leaderboard-table svelte-2ez8cj")},m(l,h){c&&c.m(l,h),N(l,e,h),N(l,t,h),_&&_.m(t,null),s(t,o),k&&k.m(t,null),s(t,f),d&&d.m(t,null),N(l,v,h),N(l,u,h),s(u,g),s(u,i);for(let a=0;a<p.length;a+=1)p[a]&&p[a].m(u,null);s(u,z),I&&I.m(u,null)},p(l,h){if(l[2]>0?c?c.p(l,h):(c=Y(l),c.c(),c.m(e.parentNode,e)):c&&(c.d(1),c=null),l[0][1]?_?_.p(l,h):(_=Z(l),_.c(),_.m(t,o)):_&&(_.d(1),_=null),l[0][0]?k?k.p(l,h):(k=$(l),k.c(),k.m(t,f)):k&&(k.d(1),k=null),l[0][2]?d?d.p(l,h):(d=x(l),d.c(),d.m(t,null)):d&&(d.d(1),d=null),h&9){C=Q(l[0]);let a;for(a=0;a<C.length;a+=1){const n=X(l,C,a);p[a]?p[a].p(n,h):(p[a]=ee(n),p[a].c(),p[a].m(u,z))}for(;a<p.length;a+=1)p[a].d(1);p.length=C.length}l[0].length===0?I||(I=te(),I.c(),I.m(u,null)):I&&(I.d(1),I=null)},d(l){l&&(b(e),b(t),b(v),b(u)),c&&c.d(l),_&&_.d(),k&&k.d(),d&&d.d(),re(p,l),I&&I.d()}}}function he(r){let e,t='<div class="spinner svelte-2ez8cj"></div> <p>Memuat peringkat...</p>';return{c(){e=E("div"),e.innerHTML=t,this.h()},l(o){e=D(o,"DIV",{class:!0,"data-svelte-h":!0}),y(e)!=="svelte-oudznz"&&(e.innerHTML=t),this.h()},h(){j(e,"class","loading svelte-2ez8cj")},m(o,f){N(o,e,f)},p:B,d(o){o&&b(e)}}}function Y(r){var I,l;let e,t,o="Peringkat Anda",f,v,u=q(r[2])+"",g,m,i,z,c=((I=r[3])==null?void 0:I.level)+"",_,k,d=F(((l=r[3])==null?void 0:l.total_gold_earned)||0)+"",C,p;return{c(){e=E("div"),t=E("span"),t.textContent=o,f=M(),v=E("span"),g=T(u),m=M(),i=E("span"),z=T("Level "),_=T(c),k=T(" ‚Ä¢ "),C=T(d),p=T(" emas didapat"),this.h()},l(h){e=D(h,"DIV",{class:!0});var a=H(e);t=D(a,"SPAN",{class:!0,"data-svelte-h":!0}),y(t)!=="svelte-1fejnqr"&&(t.textContent=o),f=A(a),v=D(a,"SPAN",{class:!0});var n=H(v);g=S(n,u),n.forEach(b),m=A(a),i=D(a,"SPAN",{class:!0});var L=H(i);z=S(L,"Level "),_=S(L,c),k=S(L," ‚Ä¢ "),C=S(L,d),p=S(L," emas didapat"),L.forEach(b),a.forEach(b),this.h()},h(){j(t,"class","your-rank-label svelte-2ez8cj"),j(v,"class","your-rank-value svelte-2ez8cj"),j(i,"class","your-rank-stats svelte-2ez8cj"),j(e,"class","your-rank-card svelte-2ez8cj")},m(h,a){N(h,e,a),s(e,t),s(e,f),s(e,v),s(v,g),s(e,m),s(e,i),s(i,z),s(i,_),s(i,k),s(i,C),s(i,p)},p(h,a){var n,L;a&4&&u!==(u=q(h[2])+"")&&R(g,u),a&8&&c!==(c=((n=h[3])==null?void 0:n.level)+"")&&R(_,c),a&8&&d!==(d=F(((L=h[3])==null?void 0:L.total_gold_earned)||0)+"")&&R(C,d)},d(h){h&&b(e)}}}function Z(r){let e,t,o="ü•à",f,v,u=r[0][1].user_username+"",g,m,i,z,c=r[0][1].level+"",_,k,d,C=F(r[0][1].total_gold_earned)+"",p,I,l,h="2";return{c(){e=E("div"),t=E("div"),t.textContent=o,f=M(),v=E("div"),g=T(u),m=M(),i=E("div"),z=T("Lvl "),_=T(c),k=M(),d=E("div"),p=T(C),I=M(),l=E("div"),l.textContent=h,this.h()},l(a){e=D(a,"DIV",{class:!0});var n=H(e);t=D(n,"DIV",{class:!0,"data-svelte-h":!0}),y(t)!=="svelte-1ufv0up"&&(t.textContent=o),f=A(n),v=D(n,"DIV",{class:!0});var L=H(v);g=S(L,u),L.forEach(b),m=A(n),i=D(n,"DIV",{class:!0});var V=H(i);z=S(V,"Lvl "),_=S(V,c),V.forEach(b),k=A(n),d=D(n,"DIV",{class:!0});var P=H(d);p=S(P,C),P.forEach(b),I=A(n),l=D(n,"DIV",{class:!0,"data-svelte-h":!0}),y(l)!=="svelte-1kbsjar"&&(l.textContent=h),n.forEach(b),this.h()},h(){j(t,"class","podium-avatar svelte-2ez8cj"),j(v,"class","podium-name svelte-2ez8cj"),j(i,"class","podium-stats svelte-2ez8cj"),j(d,"class","podium-gold svelte-2ez8cj"),j(l,"class","podium-stand second-stand svelte-2ez8cj"),j(e,"class","podium-place second svelte-2ez8cj")},m(a,n){N(a,e,n),s(e,t),s(e,f),s(e,v),s(v,g),s(e,m),s(e,i),s(i,z),s(i,_),s(e,k),s(e,d),s(d,p),s(e,I),s(e,l)},p(a,n){n&1&&u!==(u=a[0][1].user_username+"")&&R(g,u),n&1&&c!==(c=a[0][1].level+"")&&R(_,c),n&1&&C!==(C=F(a[0][1].total_gold_earned)+"")&&R(p,C)},d(a){a&&b(e)}}}function $(r){let e,t,o="ü•á",f,v,u=r[0][0].user_username+"",g,m,i,z,c=r[0][0].level+"",_,k,d,C=F(r[0][0].total_gold_earned)+"",p,I,l,h="1";return{c(){e=E("div"),t=E("div"),t.textContent=o,f=M(),v=E("div"),g=T(u),m=M(),i=E("div"),z=T("Lvl "),_=T(c),k=M(),d=E("div"),p=T(C),I=M(),l=E("div"),l.textContent=h,this.h()},l(a){e=D(a,"DIV",{class:!0});var n=H(e);t=D(n,"DIV",{class:!0,"data-svelte-h":!0}),y(t)!=="svelte-4lk5rm"&&(t.textContent=o),f=A(n),v=D(n,"DIV",{class:!0});var L=H(v);g=S(L,u),L.forEach(b),m=A(n),i=D(n,"DIV",{class:!0});var V=H(i);z=S(V,"Lvl "),_=S(V,c),V.forEach(b),k=A(n),d=D(n,"DIV",{class:!0});var P=H(d);p=S(P,C),P.forEach(b),I=A(n),l=D(n,"DIV",{class:!0,"data-svelte-h":!0}),y(l)!=="svelte-1eibc4u"&&(l.textContent=h),n.forEach(b),this.h()},h(){j(t,"class","podium-avatar svelte-2ez8cj"),j(v,"class","podium-name svelte-2ez8cj"),j(i,"class","podium-stats svelte-2ez8cj"),j(d,"class","podium-gold svelte-2ez8cj"),j(l,"class","podium-stand first-stand svelte-2ez8cj"),j(e,"class","podium-place first svelte-2ez8cj")},m(a,n){N(a,e,n),s(e,t),s(e,f),s(e,v),s(v,g),s(e,m),s(e,i),s(i,z),s(i,_),s(e,k),s(e,d),s(d,p),s(e,I),s(e,l)},p(a,n){n&1&&u!==(u=a[0][0].user_username+"")&&R(g,u),n&1&&c!==(c=a[0][0].level+"")&&R(_,c),n&1&&C!==(C=F(a[0][0].total_gold_earned)+"")&&R(p,C)},d(a){a&&b(e)}}}function x(r){let e,t,o="ü•â",f,v,u=r[0][2].user_username+"",g,m,i,z,c=r[0][2].level+"",_,k,d,C=F(r[0][2].total_gold_earned)+"",p,I,l,h="3";return{c(){e=E("div"),t=E("div"),t.textContent=o,f=M(),v=E("div"),g=T(u),m=M(),i=E("div"),z=T("Lvl "),_=T(c),k=M(),d=E("div"),p=T(C),I=M(),l=E("div"),l.textContent=h,this.h()},l(a){e=D(a,"DIV",{class:!0});var n=H(e);t=D(n,"DIV",{class:!0,"data-svelte-h":!0}),y(t)!=="svelte-1inub68"&&(t.textContent=o),f=A(n),v=D(n,"DIV",{class:!0});var L=H(v);g=S(L,u),L.forEach(b),m=A(n),i=D(n,"DIV",{class:!0});var V=H(i);z=S(V,"Lvl "),_=S(V,c),V.forEach(b),k=A(n),d=D(n,"DIV",{class:!0});var P=H(d);p=S(P,C),P.forEach(b),I=A(n),l=D(n,"DIV",{class:!0,"data-svelte-h":!0}),y(l)!=="svelte-160k6mr"&&(l.textContent=h),n.forEach(b),this.h()},h(){j(t,"class","podium-avatar svelte-2ez8cj"),j(v,"class","podium-name svelte-2ez8cj"),j(i,"class","podium-stats svelte-2ez8cj"),j(d,"class","podium-gold svelte-2ez8cj"),j(l,"class","podium-stand third-stand svelte-2ez8cj"),j(e,"class","podium-place third svelte-2ez8cj")},m(a,n){N(a,e,n),s(e,t),s(e,f),s(e,v),s(v,g),s(e,m),s(e,i),s(i,z),s(i,_),s(e,k),s(e,d),s(d,p),s(e,I),s(e,l)},p(a,n){n&1&&u!==(u=a[0][2].user_username+"")&&R(g,u),n&1&&c!==(c=a[0][2].level+"")&&R(_,c),n&1&&C!==(C=F(a[0][2].total_gold_earned)+"")&&R(p,C)},d(a){a&&b(e)}}}function me(r){let e;return{c(){e=T("-")},l(t){e=S(t,"-")},m(t,o){N(t,e,o)},p:B,d(t){t&&b(e)}}}function be(r){let e,t=r[5].prestige_level+"",o;return{c(){e=T("‚≠ê "),o=T(t)},l(f){e=S(f,"‚≠ê "),o=S(f,t)},m(f,v){N(f,e,v),N(f,o,v)},p(f,v){v&1&&t!==(t=f[5].prestige_level+"")&&R(o,t)},d(f){f&&(b(e),b(o))}}}function ee(r){let e,t,o=q(r[7]+1)+"",f,v,u,g=r[5].user_username+"",m,i,z,c=r[5].level+"",_,k,d,C,p,I,l=F(r[5].total_gold_earned)+"",h;function a(V,P){return V[5].prestige_level>0?be:me}let n=a(r),L=n(r);return{c(){e=E("div"),t=E("span"),f=T(o),v=M(),u=E("span"),m=T(g),i=M(),z=E("span"),_=T(c),k=M(),d=E("span"),L.c(),C=M(),p=E("span"),I=T("ü™ô "),h=T(l),this.h()},l(V){e=D(V,"DIV",{class:!0});var P=H(e);t=D(P,"SPAN",{class:!0});var w=H(t);f=S(w,o),w.forEach(b),v=A(P),u=D(P,"SPAN",{class:!0});var G=H(u);m=S(G,g),G.forEach(b),i=A(P),z=D(P,"SPAN",{class:!0});var J=H(z);_=S(J,c),J.forEach(b),k=A(P),d=D(P,"SPAN",{class:!0});var U=H(d);L.l(U),U.forEach(b),C=A(P),p=D(P,"SPAN",{class:!0});var K=H(p);I=S(K,"ü™ô "),h=S(K,l),K.forEach(b),P.forEach(b),this.h()},h(){var V;j(t,"class","col-rank svelte-2ez8cj"),j(u,"class","col-player svelte-2ez8cj"),j(z,"class","col-level"),j(d,"class","col-prestige svelte-2ez8cj"),j(p,"class","col-gold svelte-2ez8cj"),j(e,"class","table-row "+ze(r[7]+1)+" svelte-2ez8cj"),O(e,"current-user",r[5].user_username===((V=r[3])==null?void 0:V.user_username))},m(V,P){N(V,e,P),s(e,t),s(t,f),s(e,v),s(e,u),s(u,m),s(e,i),s(e,z),s(z,_),s(e,k),s(e,d),L.m(d,null),s(e,C),s(e,p),s(p,I),s(p,h)},p(V,P){var w;P&1&&g!==(g=V[5].user_username+"")&&R(m,g),P&1&&c!==(c=V[5].level+"")&&R(_,c),n===(n=a(V))&&L?L.p(V,P):(L.d(1),L=n(V),L&&(L.c(),L.m(d,null))),P&1&&l!==(l=F(V[5].total_gold_earned)+"")&&R(h,l),P&9&&O(e,"current-user",V[5].user_username===((w=V[3])==null?void 0:w.user_username))},d(V){V&&b(e),L.d()}}}function te(r){let e,t="<p>Belum ada pemain di peringkat!</p> <p>Jadilah yang pertama bertani dan dapatkan emas.</p>";return{c(){e=E("div"),e.innerHTML=t,this.h()},l(o){e=D(o,"DIV",{class:!0,"data-svelte-h":!0}),y(e)!=="svelte-gx6zdo"&&(e.innerHTML=t),this.h()},h(){j(e,"class","empty-state svelte-2ez8cj")},m(o,f){N(o,e,f)},d(o){o&&b(e)}}}function ge(r){let e,t,o,f=`<a href="${ce}/play" class="back-btn svelte-2ez8cj">‚Üê Kembali ke Kebun</a> <h1 class="svelte-2ez8cj">üèÜ Peringkat</h1> <div class="spacer svelte-2ez8cj"></div>`,v;function u(i,z){return i[1]?he:pe}let g=u(r),m=g(r);return{c(){e=M(),t=E("div"),o=E("header"),o.innerHTML=f,v=M(),m.c(),this.h()},l(i){se("svelte-tbm608",document.head).forEach(b),e=A(i),t=D(i,"DIV",{class:!0});var c=H(t);o=D(c,"HEADER",{class:!0,"data-svelte-h":!0}),y(o)!=="svelte-2ts4uc"&&(o.innerHTML=f),v=A(c),m.l(c),c.forEach(b),this.h()},h(){document.title="Bercocok Tanam - Leaderboard",j(o,"class","header svelte-2ez8cj"),j(t,"class","leaderboard-page svelte-2ez8cj")},m(i,z){N(i,e,z),N(i,t,z),s(t,o),s(t,v),m.m(t,null)},p(i,[z]){g===(g=u(i))&&m?m.p(i,z):(m.d(1),m=g(i),m&&(m.c(),m.m(t,null)))},i:B,o:B,d(i){i&&(b(e),b(t)),m.d()}}}function q(r){return r===1?"ü•á":r===2?"ü•à":r===3?"ü•â":`#${r}`}function ze(r){return r===1?"rank-gold":r===2?"rank-silver":r===3?"rank-bronze":""}function F(r){return r>=1e6?(r/1e6).toFixed(1)+"M":r>=1e3?(r/1e3).toFixed(1)+"K":r.toString()}function ke(r,e,t){let o;ae(r,W,m=>t(3,o=m));let f=[],v=!0,u=0;ne(async()=>{if(!ue()){de("/");return}_e.set(!0),await g()});async function g(){t(1,v=!0);const[m,i]=await Promise.all([ve(100),fe()]);if(m.success&&m.data){t(0,f=m.data);const z=f.findIndex(c=>{var _;return c.user_username===((_=i.data)==null?void 0:_.user_username)});t(2,u=z>=0?z+1:0)}i.success&&i.data&&W.set(i.data),t(1,v=!1)}return[f,v,u,o]}class Pe extends ie{constructor(e){super(),oe(this,e,ke,ge,le,{})}}export{Pe as component};
